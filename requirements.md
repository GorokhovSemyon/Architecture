# Требования к REST API онлайн-магазина

## Функциональные требования

### 1. Бизнес-требования
**Автоматизация управления данными** - REST API должно предоставлять полный набор CRUD-операций для управления основными бизнес-сущностями (товары, заказы, пользователи), что позволит организации интегрировать систему с различными клиентскими приложениями и автоматизировать бизнес-процессы.

**Валидация данных** - Все операции изменения данных (POST, PUT, DELETE) должны проверять права доступа пользователя через JWT-токены, при этом операции с заказами могут выполнять только аутентифицированные пользователи, а управление товарами - только администраторы.


### 2. Пользовательские требования для клиентского приложения
Должны иметь возможность через REST API:
- Получать данные о товарах с пагинацией и фильтрацией
- Управлять корзиной покупок пользователя
- Создавать и отслеживать заказы
- Регистрировать и аутентифицировать пользователей

### 3. Пользовательские требования для административных систем
Должны иметь возможность через REST API:
- Полное управление товарным каталогом (CRUD операции)
- Управление статусами заказов и пользователями
- Получать аналитические данные о продажах
- Регистрация и аутентификация админов
- Модерация пользователей

### 4. Функциональные требования для сущности "Товары"
**API должно** предоставлять полный набор CRUD-эндпоинтов:
- `GET /api/products` - получение списка товаров с пагинацией
- `GET /api/products/{id}` - получение товара по ID
- `POST /api/products` - создание нового товара
- `PUT /api/products/{id}` - обновление товара
- `DELETE /api/products/{id}` - удаление товара

### 5. Функциональные требования для сущности "Заказы"
**API должно** предоставлять полный набор CRUD-эндпоинтов:
- `GET /api/orders` - получение списка заказов
- `GET /api/orders/{id}` - получение заказа по ID
- `POST /api/orders` - создание нового заказа
- `PUT /api/orders/{id}` - обновление статуса заказа
- `DELETE /api/orders/{id}` - отмена заказа

### 6. Функциональные требования API
**Должно** обеспечивать валидацию входных данных для всех CRUD-операций, включая проверку типов данных, обязательных полей и бизнес-логики перед сохранением в PostgreSQL.

### 7. Системные требования
**API должно** соответствовать стандартам RESTful архитектуры и использовать соответствующие HTTP-методы (GET, POST, PUT, DELETE) и коды состояния (200, 201, 400, 404, 500) для всех операций с СУБД PostgreSQL.

## Нефункциональные требования

### 1. Бизнес-правила
**Целостность данных** - При удалении сущностей должна обеспечиваться ссылочная целостность на уровне API (например, нельзя удалить товар, если он есть в активных заказах), даже если в PostgreSQL не настроены каскадные ограничения.

### 2. Атрибуты качества производительности БД
- Время выполнения CRUD-операций не должно превышать:
- 50 мс для операций чтения (GET)
- 100 мс для операций создания/обновления (POST/PUT)
- 200 мс для операций с транзакциями (создание заказа)

### 3. Атрибуты качества масштабируемости API
- Система должна выдерживать нагрузку до 1000 RPS (запросов в секунду) на эндпоинты чтения и до 100 RPS на эндпоинты записи при работе с PostgreSQL.

### 4. Атрибуты качества надежности транзакций
- Для операций, затрагивающих несколько таблиц (оформление заказа), API должно обеспечивать атомарность через транзакции PostgreSQL с механизмом отката при ошибках.

### 5. Внешние интерфейсы
**API документация** должна быть предоставлена в формате OpenAPI 3.0 (Swagger) с подробным описанием всех эндпоинтов, параметров запроса, форматов данных и примеров использования для интеграции с клиентскими приложениями.

### 6. Ограничения
**Технологический стек** - API должно быть реализовано на Python 3.10+ с использованием FastAPI framework, использовать SQLAlchemy в качестве ORM для работы с PostgreSQL, JWT для аутентификации, Pydantic для валидации данных и развертываться в Docker-контейнерах.